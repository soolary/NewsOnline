(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c47f8c22"],{"25f0":function(t,a,e){"use strict";var n=e("6eeb"),o=e("825a"),l=e("d039"),c=e("ad6d"),r="toString",s=RegExp.prototype,i=s[r],u=l((function(){return"/a/b"!=i.call({source:"a",flags:"b"})})),m=i.name!=r;(u||m)&&n(RegExp.prototype,r,(function(){var t=o(this),a=String(t.source),e=t.flags,n=String(void 0===e&&t instanceof RegExp&&!("flags"in s)?c.call(t):e);return"/"+a+"/"+n}),{unsafe:!0})},"58f6":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"comment"},[e("el-card",{staticClass:"box-card"},[e("div",{attrs:{slot:"header"},slot:"header"},[e("Breadcrumb")],1),e("div",{staticClass:"item"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{label:"文章标题",prop:"title",width:"240"}}),e("el-table-column",{attrs:{label:"总评论数",prop:"total_comment_count",width:"240"}}),e("el-table-column",{attrs:{label:"粉丝评论数",prop:"fans_comment_count",width:"240"}}),e("el-table-column",{attrs:{label:"评论状态",prop:"comment_status",width:"240"},scopedSlots:t._u([{key:"default",fn:function(a){return[!0===a.row.comment_status?e("el-button",{attrs:{type:"primary",plain:""}},[t._v("关闭")]):!1===a.row.comment_status?e("el-button",{attrs:{type:"success",plain:""}},[t._v("正常")]):t._e()]}}])}),e("el-table-column",{attrs:{label:"操作",width:"240"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:a.row.comment_status?"primary":"danger"},on:{click:function(e){return t.set(a.row.id,!a.row.comment_status)}}},[t._v(t._s(a.row.comment_status?"打开评论":"关闭评论"))])]}}])})],1)],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":t.page,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)])],1)},o=[],l=(e("d3b7"),e("25f0"),e("b775")),c=e("5d2d"),r=function(t){return Object(l["a"])({method:"get",url:"/mp/v1_0/articles",params:t,headers:{ContentType:"application/json",Authorization:"Bearer ".concat(Object(c["b"])())}})},s=function(t){var a=t.article_id,e=t.allow_comment;return Object(l["a"])({method:"put",url:"/mp/v1_0/comments/status?article_id=".concat(a.toString()),data:{allow_comment:e}})},i={name:"comment",data:function(){return{tableData:[],comment:"comment",total:0,page:1,allowComment:""}},methods:{set:function(t,a){var e=this;console.log("status",a),s({article_id:t,allow_comment:a}).then((function(t){console.log(t),e.allowComment=t.data.data.allow_comment,e.getData()}))},handleCurrentChange:function(t){var a=this;this.page=t,r({page:t,response_type:this.comment}).then((function(t){a.tableData=t.data.data.results,a.page=t.data.data.page}))},getData:function(){var t=this;r({page:this.page,response_type:this.comment}).then((function(a){console.log("commList",a),t.tableData=a.data.data.results,t.total=a.data.data.total_count,t.page=a.data.data.page}))}},created:function(){this.getData()}},u=i,m=(e("63ca"),e("2877")),d=Object(m["a"])(u,n,o,!1,null,null,null);a["default"]=d.exports},"63ca":function(t,a,e){"use strict";var n=e("83c8"),o=e.n(n);o.a},"83c8":function(t,a,e){},ad6d:function(t,a,e){"use strict";var n=e("825a");t.exports=function(){var t=n(this),a="";return t.global&&(a+="g"),t.ignoreCase&&(a+="i"),t.multiline&&(a+="m"),t.dotAll&&(a+="s"),t.unicode&&(a+="u"),t.sticky&&(a+="y"),a}}}]);
//# sourceMappingURL=chunk-c47f8c22.d4f6dc08.js.map